{"version":3,"file":"index.js","sources":["../src/index.ts"],"sourcesContent":["export const withPlaiceholder = (nextConfig) => {\n  require(\"sharp\");\n\n  const sharp = \"commonjs sharp\";\n\n  return Object.assign({}, nextConfig, {\n    webpack(config, options) {\n     if (Array.isArray(config.externals)) {\n        config.externals.push({ sharp });\n      } else {\n        config.externals = { ...config.externals, sharp }\n      }\n\n      if (typeof nextConfig?.webpack === \"function\") {\n        return nextConfig.webpack(config, options);\n      }\n\n      return config;\n    },\n  });\n};\n"],"names":["withPlaiceholder","nextConfig","require","sharp","Object","assign","webpack","config","options","Array","isArray","externals","push"],"mappings":";;;;;;;;;;;;;;;;;;IAAaA,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACC,UAAD;AAC9BC,EAAAA,OAAO,CAAC,OAAD,CAAP;;AAEA,MAAMC,KAAK,GAAG,gBAAd;AAEA,SAAOC,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBJ,UAAlB,EAA8B;AACnCK,IAAAA,OADmC,mBAC3BC,MAD2B,EACnBC,OADmB;AAElC,UAAIC,KAAK,CAACC,OAAN,CAAcH,MAAM,CAACI,SAArB,CAAJ,EAAqC;AAClCJ,QAAAA,MAAM,CAACI,SAAP,CAAiBC,IAAjB,CAAsB;AAAET,UAAAA,KAAK,EAALA;AAAF,SAAtB;AACD,OAFF,MAEQ;AACLI,QAAAA,MAAM,CAACI,SAAP,gBAAwBJ,MAAM,CAACI,SAA/B;AAA0CR,UAAAA,KAAK,EAALA;AAA1C;AACD;;AAED,UAAI,QAAOF,UAAP,oBAAOA,UAAU,CAAEK,OAAnB,MAA+B,UAAnC,EAA+C;AAC7C,eAAOL,UAAU,CAACK,OAAX,CAAmBC,MAAnB,EAA2BC,OAA3B,CAAP;AACD;;AAED,aAAOD,MAAP;AACD;AAbkC,GAA9B,CAAP;AAeD;;;;"}