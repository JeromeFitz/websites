{"version":3,"file":"index.umd.js","sources":["../src/index.ts"],"sourcesContent":["export const withPlaiceholder = (nextConfig) => {\n  require(\"sharp\");\n\n  const sharp = \"commonjs sharp\";\n\n  return Object.assign({}, nextConfig, {\n    webpack(config, options) {\n     if (Array.isArray(config.externals)) {\n        config.externals.push({ sharp });\n      } else {\n        config.externals = { ...config.externals, sharp }\n      }\n\n      if (typeof nextConfig?.webpack === \"function\") {\n        return nextConfig.webpack(config, options);\n      }\n\n      return config;\n    },\n  });\n};\n"],"names":["withPlaiceholder","nextConfig","require","sharp","Object","assign","webpack","config","options","Array","isArray","externals","push"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;MAAaA,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACC,UAAD;EAC9BC,EAAAA,OAAO,CAAC,OAAD,CAAP;;EAEA,MAAMC,KAAK,GAAG,gBAAd;EAEA,SAAOC,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBJ,UAAlB,EAA8B;EACnCK,IAAAA,OADmC,mBAC3BC,MAD2B,EACnBC,OADmB;EAElC,UAAIC,KAAK,CAACC,OAAN,CAAcH,MAAM,CAACI,SAArB,CAAJ,EAAqC;EAClCJ,QAAAA,MAAM,CAACI,SAAP,CAAiBC,IAAjB,CAAsB;EAAET,UAAAA,KAAK,EAALA;EAAF,SAAtB;EACD,OAFF,MAEQ;EACLI,QAAAA,MAAM,CAACI,SAAP,gBAAwBJ,MAAM,CAACI,SAA/B;EAA0CR,UAAAA,KAAK,EAALA;EAA1C;EACD;;EAED,UAAI,QAAOF,UAAP,oBAAOA,UAAU,CAAEK,OAAnB,MAA+B,UAAnC,EAA+C;EAC7C,eAAOL,UAAU,CAACK,OAAX,CAAmBC,MAAnB,EAA2BC,OAA3B,CAAP;EACD;;EAED,aAAOD,MAAP;EACD;EAbkC,GAA9B,CAAP;EAeD;;;;;;;;"}