# name: 'Deploy'
name: 'üöÄÔ∏è  '
description: 'Deploy to Vercel based to Preview, or Production if `main` branch'
author: 'JeromeFitz'

inputs:
  PRODUCTION:
    description: ''
    required: true
    type: boolean
  GH_TOKEN:
    description: ''
    required: true
  VERCEL_ORG_ID:
    description: ''
    required: true
  VERCEL_PROJECT_ID:
    description: ''
    required: true
  VERCEL_TOKEN:
    description: ''
    required: true

runs:
  using: 'composite'
  steps:
    - name: 'üî∫Ô∏è Deploy'
      id: wf-deploy
      uses: BetaHuhn/deploy-to-vercel-action@v1
      env:
        GH_TOKEN: ${{ inputs.GH_TOKEN }}
        VERCEL_ORG_ID: ${{ inputs.VERCEL_ORG_ID }}
        VERCEL_PROJECT_ID: ${{ inputs.VERCEL_PROJECT_ID }}
        VERCEL_TOKEN: ${{ inputs.VERCEL_TOKEN }}
      with:
        GITHUB_TOKEN: ${{ inputs.GH_TOKEN }}
        VERCEL_ORG_ID: ${{ inputs.VERCEL_ORG_ID }}
        VERCEL_PROJECT_ID: ${{ inputs.VERCEL_PROJECT_ID }}
        VERCEL_TOKEN: ${{ inputs.VERCEL_TOKEN }}
        CREATE_COMMENT: true
        DELETE_EXISTING_COMMENT: true
        GITHUB_DEPLOYMENT: false
        PR_LABELS: false
        PRODUCTION: ${{ inputs.PRODUCTION }}
